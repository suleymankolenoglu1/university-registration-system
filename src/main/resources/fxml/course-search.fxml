<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns:fx="http://javafx.com/fxml" fx:controller="com.university.controller.CourseSearchController" 
            style="-fx-background-color: white;">
    
    <!-- ÃœST YEÅžÄ°L BANNER -->
    <top>
        <VBox style="-fx-background-color: #4CAF50;">
            <HBox alignment="CENTER" spacing="15" style="-fx-padding: 20;">
                <Label text="ðŸ“š" style="-fx-font-size: 42px;"/>
                <VBox alignment="CENTER">
                    <Label text="Ders Arama ve KayÄ±t" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: white;"/>
                    <Label fx:id="studentNameLabel" text="Ã–ÄŸrenci" style="-fx-font-size: 14px; -fx-text-fill: rgba(255,255,255,0.9);"/>
                </VBox>
                <!-- SaÄŸ tarafta sÄ±nÄ±f bilgisi -->
                <Region HBox.hgrow="ALWAYS"/>
                <VBox alignment="CENTER_RIGHT" style="-fx-padding: 0 20 0 0;">
                    <Label fx:id="studentDeptLabel" text="BÃ¶lÃ¼m" style="-fx-font-size: 13px; -fx-text-fill: rgba(255,255,255,0.9);"/>
                    <Label fx:id="semesterInfoLabel" text="DÃ¶nem" style="-fx-font-size: 15px; -fx-font-weight: bold; -fx-text-fill: white;"/>
                </VBox>
            </HBox>
            <HBox style="-fx-background-color: #388E3C; -fx-min-height: 4;"/>
        </VBox>
    </top>
    
    <!-- ANA Ä°Ã‡ERÄ°K -->
    <center>
        <VBox spacing="20" style="-fx-background-color: white; -fx-padding: 25;">
            
            <!-- Navigasyon ButonlarÄ± -->
            <HBox spacing="15" alignment="CENTER">
                <Button text="ðŸ  Ana Sayfa" onAction="#goToDashboard" styleClass="green-button" prefWidth="150" prefHeight="40"/>
                <Button text="ðŸ“š Ders Ara" styleClass="green-button" prefWidth="150" prefHeight="40" style="-fx-background-color: #388E3C;"/>
                <Button text="ðŸ“… Ders ProgramÄ±" onAction="#goToSchedule" styleClass="green-button" prefWidth="150" prefHeight="40"/>
                <Button text="ðŸšª Ã‡Ä±kÄ±ÅŸ" onAction="#handleLogout" styleClass="green-button" prefWidth="150" prefHeight="40"/>
            </HBox>
            
            <!-- Arama BaÅŸlÄ±ÄŸÄ± -->
            <Label text="Ders Ara" style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: #4CAF50;"/>
            
            <!-- Arama ve Filtreler -->
            <HBox spacing="15" alignment="CENTER_LEFT">
                <TextField fx:id="searchField" promptText="ðŸ” Ders kodu veya adÄ± ara..." prefWidth="300"
                           style="-fx-padding: 12; -fx-background-color: #f5f5f5; -fx-background-radius: 8; -fx-border-color: #ddd; -fx-border-radius: 8;"/>
                
                <ComboBox fx:id="yearFilter" promptText="SÄ±nÄ±f" prefWidth="120"
                          style="-fx-background-color: #f5f5f5; -fx-background-radius: 8;"/>
                <ComboBox fx:id="dayFilter" promptText="GÃ¼n" prefWidth="140"
                          style="-fx-background-color: #f5f5f5; -fx-background-radius: 8;"/>
                
                <Button text="ðŸ” Ara" onAction="#handleSearch" styleClass="green-button" prefWidth="100" prefHeight="40"/>
                <Button text="â†º Temizle" onAction="#clearFilters" styleClass="green-button" prefWidth="100" prefHeight="40"/>
            </HBox>
            
            <!-- BÃ¶lÃ¼m Filtresi (gizli - arka planda kullanÄ±lÄ±yor) -->
            <ComboBox fx:id="departmentFilter" visible="false" managed="false"/>
            
            <!-- SonuÃ§ Bilgisi -->
            <Label fx:id="resultCountLabel" text="TÃ¼m dersler listeleniyor..." style="-fx-text-fill: #666; -fx-font-size: 13px;"/>
            
            <!-- Ders Listesi -->
            <TableView fx:id="coursesTable" VBox.vgrow="ALWAYS" style="-fx-background-color: white;">
                <columns>
                    <TableColumn fx:id="colCode" text="Ders Kodu" prefWidth="100"/>
                    <TableColumn fx:id="colName" text="Ders AdÄ±" prefWidth="180"/>
                    <TableColumn fx:id="colSection" text="Åžube" prefWidth="60"/>
                    <TableColumn fx:id="colInstructor" text="Ã–ÄŸretim ElemanÄ±" prefWidth="180"/>
                    <TableColumn fx:id="colDay" text="GÃ¼n" prefWidth="100"/>
                    <TableColumn fx:id="colTime" text="Saat" prefWidth="120"/>
                    <TableColumn fx:id="colRoom" text="Derslik" prefWidth="80"/>
                    <TableColumn fx:id="colCapacity" text="Kontenjan" prefWidth="100"/>
                    <TableColumn fx:id="colCredits" text="Kredi" prefWidth="60"/>
                    <TableColumn fx:id="colPrereq" text="Ã–n KoÅŸul" prefWidth="100"/>
                    <TableColumn fx:id="colEnroll" text="Ä°ÅŸlem" prefWidth="120"/>
                </columns>
                <placeholder>
                    <Label text="Arama kriterlerine uygun ders bulunamadÄ±"/>
                </placeholder>
            </TableView>
            
        </VBox>
    </center>
    
</BorderPane>
